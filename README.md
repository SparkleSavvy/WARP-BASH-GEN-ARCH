# WARP-BASH-GEN-ARCH V1
![Bash](https://img.shields.io/badge/Shell-Bash-blue)
![Arch Linux](https://img.shields.io/badge/OS-Arch%20Linux-1793d1)

Этот скрипт автоматизирует процесс генерации конфигурационного файла WireGuard для Cloudflare WARP в Arch Linux. Он взаимодействует с API Cloudflare для регистрации новой пары ключей и получения необходимой информации о пире.

## Требования

*   **Операционная система:** Arch Linux (или совместимый дистрибутив на базе Arch).
*   **Зависимости:**
    *   `wireguard-tools`
    *   `jq`
    *   `wget`
    *   `qrencode`
*   **Права доступа:** Требуется доступ к `sudo` для установки зависимостей.

*Примечание: Скрипт автоматически попытается установить указанные зависимости с помощью `sudo pacman -Sy --noconfirm`.*

## Использование

Сначала установите зависимости, для Arch Linux:

```
sudo pacman -Sy wireguard-tools jq wget qrencode base64
```


Для генерации конфигурации просто скопируйте и выполните следующую команду в вашем терминале Arch Linux:

```bash
bash <(wget --inet4-only -qO- https://raw.githubusercontent.com/SparkleSavvy/WARP-BASH-GEN-ARCH/main/arch.sh)
```

Или же для Debian Linux:

```bash
bash <(wget --inet4-only -qO- https://raw.githubusercontent.com/SparkleSavvy/WARP-BASH-GEN-ARCH/main/debian.sh)
```

## Что делает скрипт

1.  **Очищает экран терминала.**
2.  **Устанавливает зависимости:** Проверяет и устанавливает необходимые пакеты (`wireguard-tools`, `jq`, `wget`, `qrencode`) с помощью `pacman`.
3.  **Генерирует ключи:** Создает локальную пару ключей WireGuard (приватный и публичный).
4.  **Регистрация в Cloudflare:** Отправляет публичный ключ в API Cloudflare для регистрации нового "устройства" и получает уникальный ID и токен доступа.
5.  **Активация WARP:** Отправляет запрос к API для активации сервиса WARP для зарегистрированного ключа.
6.  **Получение конфигурации пира:** Запрашивает у API конфигурационные данные, включая публичный ключ пира Cloudflare и выделенные IP-адреса (v4 и v6) для вашего соединения.
7.  **Формирование конфигурации:** Создает текстовый конфигурационный файл WireGuard (`.conf`) на основе полученных данных и сгенерированного приватного ключа.
8.  **Вывод конфигурации:** Отображает готовую конфигурацию WireGuard в терминале.
9.  **Генерация QR-кода:** Использует `qrencode` для создания и отображения QR-кода, содержащего сгенерированную конфигурацию. Это удобно для быстрой настройки клиента WireGuard на мобильных устройствах.

## Вывод

После успешного выполнения скрипт выведет в терминал:

1.  **Текстовая конфигурация WireGuard:**
    ```
    ########## КОНФИГ WIREGUARD ##########
    [Interface]
    PrivateKey = <ВАШ_СГЕНЕРИРОВАННЫЙ_ПРИВАТНЫЙ_КЛЮЧ>
    Address = <ПОЛУЧЕННЫЙ_IPv4>, <ПОЛУЧЕННЫЙ_IPv6>
    DNS = 1.1.1.1, 2606:4700:4700::1111

    [Peer]
    PublicKey = <ПУБЛИЧНЫЙ_КЛЮЧ_ПИРА_CLOUDFLARE>
    AllowedIPs = 0.0.0.0/0, ::/0
    Endpoint = 188.114.97.66:3138
    #######################################
    ```
2.  **QR-код:** Визуальное представление той же конфигурации для сканирования мобильными приложениями WireGuard.

## Что делать с конфигурацией?

*   **Сохранить в файл:** Вы можете скопировать текстовую конфигурацию и сохранить ее в файл, например, `/etc/wireguard/cf-warp.conf`. Затем вы сможете управлять этим соединением с помощью стандартных команд `wg-quick up cf-warp` и `wg-quick down cf-warp`.
*   **Использовать QR-код:** Откройте приложение WireGuard на вашем мобильном устройстве и выберите опцию добавления туннеля путем сканирования QR-кода. Наведите камеру на QR-код в терминале.

## Отказ от ответственности

Используйте этот скрипт на свой страх и риск. Убедитесь, что вы понимаете, что делает скрипт, перед его запуском. Скрипт использует методы взаимодействия с API Cloudflare, которые могут быть неофициальными и могут измениться или перестать работать в будущем без предварительного уведомления.
